{"ast":null,"code":"import Vuex from 'vuex';\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? {\n  status: {\n    loggedIn: true\n  },\n  user\n} : {\n  status: {\n    loggedIn: false\n  },\n  user: null\n};\nconst store = new Vuex.Store({\n  state: initialState,\n  actions: {\n    login(user) {\n      commit('loginSuccess', user);\n      commit('loginFailure');\n    },\n    logout() {\n      commit('logout');\n    },\n    register({\n      commit\n    }, user) {\n      return new Promise().then(response => {\n        commit('registerSuccess');\n        return Promise.resolve(response.data);\n      }, error => {\n        commit('registerFailure');\n        return Promise.reject(error);\n      });\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n});","map":{"version":3,"names":["Vuex","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","store","Store","state","actions","login","commit","logout","register","Promise","then","response","resolve","data","error","reject","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"sources":["C:/Users/tverd/Рабочий стол/bikeMarket/bike-market/src/store/index.js"],"sourcesContent":["import Vuex from 'vuex';\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { status: { loggedIn: true }, user } : { status: { loggedIn: false }, user: null };\r\n\r\nconst store = new Vuex.Store({\r\n    state: initialState,\r\n    actions: {\r\n        login(user) {\r\n          commit('loginSuccess', user);\r\n          commit('loginFailure');\r\n        },\r\n        logout() {\r\n          commit('logout');\r\n        },\r\n        register({ commit }, user) {\r\n          return new Promise().then(\r\n            response => {\r\n              commit('registerSuccess');\r\n              return Promise.resolve(response.data);\r\n            },\r\n            error => {\r\n              commit('registerFailure');\r\n              return Promise.reject(error);\r\n            }\r\n          );\r\n        }\r\n    },\r\n    mutations: {\r\n        loginSuccess(state, user) {\r\n          state.status.loggedIn = true;\r\n          state.user = user;\r\n        },\r\n        loginFailure(state) {\r\n          state.status.loggedIn = false;\r\n          state.user = null;\r\n        },\r\n        logout(state) {\r\n          state.status.loggedIn = false;\r\n          state.user = null;\r\n        },\r\n        registerSuccess(state) {\r\n          state.status.loggedIn = false;\r\n        },\r\n        registerFailure(state) {\r\n          state.status.loggedIn = false;\r\n        }\r\n    }\r\n});"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AAEvB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;AACrD,MAAMC,YAAY,GAAGL,IAAI,GAAG;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEP;AAAK,CAAC,GAAG;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAAEP,IAAI,EAAE;AAAK,CAAC;AAE9G,MAAMQ,KAAK,GAAG,IAAIT,IAAI,CAACU,KAAK,CAAC;EACzBC,KAAK,EAAEL,YAAY;EACnBM,OAAO,EAAE;IACLC,KAAKA,CAACZ,IAAI,EAAE;MACVa,MAAM,CAAC,cAAc,EAAEb,IAAI,CAAC;MAC5Ba,MAAM,CAAC,cAAc,CAAC;IACxB,CAAC;IACDC,MAAMA,CAAA,EAAG;MACPD,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IACDE,QAAQA,CAAC;MAAEF;IAAO,CAAC,EAAEb,IAAI,EAAE;MACzB,OAAO,IAAIgB,OAAO,CAAC,CAAC,CAACC,IAAI,CACvBC,QAAQ,IAAI;QACVL,MAAM,CAAC,iBAAiB,CAAC;QACzB,OAAOG,OAAO,CAACG,OAAO,CAACD,QAAQ,CAACE,IAAI,CAAC;MACvC,CAAC,EACDC,KAAK,IAAI;QACPR,MAAM,CAAC,iBAAiB,CAAC;QACzB,OAAOG,OAAO,CAACM,MAAM,CAACD,KAAK,CAAC;MAC9B,CACF,CAAC;IACH;EACJ,CAAC;EACDE,SAAS,EAAE;IACPC,YAAYA,CAACd,KAAK,EAAEV,IAAI,EAAE;MACxBU,KAAK,CAACJ,MAAM,CAACC,QAAQ,GAAG,IAAI;MAC5BG,KAAK,CAACV,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDyB,YAAYA,CAACf,KAAK,EAAE;MAClBA,KAAK,CAACJ,MAAM,CAACC,QAAQ,GAAG,KAAK;MAC7BG,KAAK,CAACV,IAAI,GAAG,IAAI;IACnB,CAAC;IACDc,MAAMA,CAACJ,KAAK,EAAE;MACZA,KAAK,CAACJ,MAAM,CAACC,QAAQ,GAAG,KAAK;MAC7BG,KAAK,CAACV,IAAI,GAAG,IAAI;IACnB,CAAC;IACD0B,eAAeA,CAAChB,KAAK,EAAE;MACrBA,KAAK,CAACJ,MAAM,CAACC,QAAQ,GAAG,KAAK;IAC/B,CAAC;IACDoB,eAAeA,CAACjB,KAAK,EAAE;MACrBA,KAAK,CAACJ,MAAM,CAACC,QAAQ,GAAG,KAAK;IAC/B;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}