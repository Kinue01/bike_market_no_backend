{"ast":null,"code":"import ItemService from '@/services/item.service';\nimport Item from '@/models/item';\nexport default {\n  name: \"Mod-Board\",\n  data() {\n    return {\n      item_name: \"\",\n      item_desc: \"\",\n      item_type: \"\",\n      message: \"\",\n      items: {},\n      types: {}\n    };\n  },\n  methods: {\n    addItem() {\n      let item = new Item(this.item_name, this.item_desc, this.item_type);\n      ItemService.addItem(item).then(response => {\n        this.message = response.status.toString();\n      }, error => {\n        this.message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      });\n    }\n  },\n  mounted() {\n    ItemService.getItems().then(response => {\n      this.items = response.data;\n    }, error => {\n      this.message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    });\n    ItemService.getItemTypes().then(response => {\n      this.types = response.data;\n    }, error => {\n      this.message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    });\n  }\n};","map":{"version":3,"names":["ItemService","Item","name","data","item_name","item_desc","item_type","message","items","types","methods","addItem","item","then","response","status","toString","error","mounted","getItems","getItemTypes"],"sources":["C:\\Users\\tverd\\Рабочий стол\\bikeMarket\\bike-market\\src\\components\\ModBoard.vue"],"sourcesContent":["<template>\r\n    <div class=\"my-5 container\">\r\n        <p class=\"mt-5 fs-1 text-center\">Items from database</p>\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">ID</th>\r\n                    <th scope=\"col\">Name</th>\r\n                    <th scope=\"col\">Description</th>\r\n                    <th scope=\"col\">Type</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"item in items\" :key=\"item.item_id\">\r\n                    <td>{{ item.item_id }}</td>\r\n                    <td>{{ item.item_name }}</td>\r\n                    <td>{{ item.item_description }}</td>\r\n                    <td>{{ item.item_type }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <p class=\"mt-5 fs-1 text-center \">Add new item</p>\r\n        <form>\r\n            <div class=\"mt-3\">\r\n                <label for=\"item_name\" class=\"form-label\">Название товара</label>\r\n                <input type=\"text\" name=\"item_name\" class=\"form-control\" v-model=\"item_name\">\r\n                <label name=\"item_name\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"mt-3\">\r\n                <label for=\"item_desc\" class=\"form-label\">Описание товара</label>\r\n                <textarea name=\"item_desc\" class=\"form-control\" v-model=\"item_desc\" />\r\n                <label name=\"item_desc\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"mt-3\">\r\n                <select class=\"form-select\">\r\n                    <option selected>Выберите тип товара</option>\r\n                    <option v-for=\"typ in types\" :key=\"typ.type_id\" :value=\"{ type_id }\">{{ typ.type_name }}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"mt-3\">\r\n                <button class=\"btn btn-primary btn-block\" :disabled=\"loading\" @click=\"addItem\" >\r\n                    <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\r\n                    <span>Add Item</span>\r\n                </button>\r\n            </div>\r\n            <p>{{ message }}</p>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ItemService from '@/services/item.service';\r\nimport Item from '@/models/item';\r\n\r\nexport default {\r\n    name: \"Mod-Board\",\r\n    data(){\r\n        return{\r\n            item_name: \"\",\r\n            item_desc: \"\",\r\n            item_type: \"\",\r\n            message: \"\",\r\n            items: {},\r\n            types: {}\r\n        }\r\n    },\r\n    methods: {\r\n        addItem(){\r\n            let item = new Item(this.item_name, this.item_desc, this.item_type);\r\n\r\n            ItemService.addItem(item)\r\n            .then(response => {\r\n                this.message = response.status.toString();\r\n            },\r\n            error => {\r\n                this.message = \r\n                (error.response &&\r\n                    error.response.data &&\r\n                    error.response.data.message) ||\r\n                error.message ||\r\n                error.toString();\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        ItemService.getItems()\r\n        .then(response => {\r\n            this.items = response.data;\r\n        },\r\n        error => {\r\n            this.message = \r\n            (error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n        });\r\n\r\n        ItemService.getItemTypes()\r\n        .then(response => {\r\n            this.types = response.data;\r\n        },\r\n        error => {\r\n            this.message = \r\n            (error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n        })\r\n    }\r\n}\r\n</script>"],"mappings":"AAoDA,OAAOA,WAAU,MAAO,yBAAyB;AACjD,OAAOC,IAAG,MAAO,eAAe;AAEhC,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,CAAC,CAAC;MACTC,KAAK,EAAE,CAAC;IACZ;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,OAAOA,CAAA,EAAE;MACL,IAAIC,IAAG,GAAI,IAAIX,IAAI,CAAC,IAAI,CAACG,SAAS,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAACC,SAAS,CAAC;MAEnEN,WAAW,CAACW,OAAO,CAACC,IAAI,EACvBC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACP,OAAM,GAAIO,QAAQ,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC;MAC7C,CAAC,EACDC,KAAI,IAAK;QACL,IAAI,CAACV,OAAM,GACVU,KAAK,CAACH,QAAO,IACVG,KAAK,CAACH,QAAQ,CAACX,IAAG,IAClBc,KAAK,CAACH,QAAQ,CAACX,IAAI,CAACI,OAAO,IAC/BU,KAAK,CAACV,OAAM,IACZU,KAAK,CAACD,QAAQ,CAAC,CAAC;MACpB,CAAC,CAAC;IACN;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACNlB,WAAW,CAACmB,QAAQ,CAAC,EACpBN,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAACN,KAAI,GAAIM,QAAQ,CAACX,IAAI;IAC9B,CAAC,EACDc,KAAI,IAAK;MACL,IAAI,CAACV,OAAM,GACVU,KAAK,CAACH,QAAO,IACVG,KAAK,CAACH,QAAQ,CAACX,IAAG,IAClBc,KAAK,CAACH,QAAQ,CAACX,IAAI,CAACI,OAAO,IAC/BU,KAAK,CAACV,OAAM,IACZU,KAAK,CAACD,QAAQ,CAAC,CAAC;IACpB,CAAC,CAAC;IAEFhB,WAAW,CAACoB,YAAY,CAAC,EACxBP,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAACL,KAAI,GAAIK,QAAQ,CAACX,IAAI;IAC9B,CAAC,EACDc,KAAI,IAAK;MACL,IAAI,CAACV,OAAM,GACVU,KAAK,CAACH,QAAO,IACVG,KAAK,CAACH,QAAQ,CAACX,IAAG,IAClBc,KAAK,CAACH,QAAQ,CAACX,IAAI,CAACI,OAAO,IAC/BU,KAAK,CAACV,OAAM,IACZU,KAAK,CAACD,QAAQ,CAAC,CAAC;IACpB,CAAC;EACL;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}