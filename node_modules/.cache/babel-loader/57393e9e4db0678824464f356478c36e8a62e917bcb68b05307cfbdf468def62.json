{"ast":null,"code":"import Home from '../components/Home.vue';\nimport Login from \"../components/Login.vue\";\nimport Register from \"../components/Register.vue\";\nimport About from '@/views/About.vue';\nimport { createRouter, createWebHistory } from 'vue-router';\nconst Profile = () => import(\"../components/Profile.vue\");\nconst BoardAdmin = () => import(\"../components/BoardAdmin.vue\");\nconst BoardModerator = () => import(\"../components/BoardModerator.vue\");\nconst BoardUser = () => import(\"../components/BoardUser.vue\");\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: Home\n}, {\n  path: '/home',\n  component: Home\n}, {\n  path: '/about',\n  component: About\n}, {\n  path: \"/login\",\n  component: Login\n}, {\n  path: \"/register\",\n  component: Register\n}, {\n  path: \"/profile\",\n  name: \"profile\",\n  component: Profile\n}, {\n  path: \"/admin\",\n  name: \"admin\",\n  component: BoardAdmin\n}, {\n  path: \"/mod\",\n  name: \"moderator\",\n  component: BoardModerator\n}, {\n  path: \"/user\",\n  name: \"user\",\n  component: BoardUser\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login', '/register', '/home'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Home","Login","Register","About","createRouter","createWebHistory","Profile","BoardAdmin","BoardModerator","BoardUser","routes","path","name","component","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"sources":["C:/Users/tverd/Рабочий стол/bikeMarket/bike-market/src/router/index.js"],"sourcesContent":["import Home from '../components/Home.vue';\r\nimport Login from \"../components/Login.vue\";\r\nimport Register from \"../components/Register.vue\";\r\nimport About from '@/views/About.vue';\r\nimport { createRouter, createWebHistory } from 'vue-router';\r\n\r\nconst Profile = () => import(\"../components/Profile.vue\")\r\nconst BoardAdmin = () => import(\"../components/BoardAdmin.vue\")\r\nconst BoardModerator = () => import(\"../components/BoardModerator.vue\")\r\nconst BoardUser = () => import(\"../components/BoardUser.vue\")\r\n\r\nconst routes = [\r\n    { \r\n        path: '/',\r\n        name: 'home',\r\n        component: Home\r\n    },\r\n    { \r\n        path: '/home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/about', \r\n        component: About\r\n    },\r\n    {\r\n        path: \"/login\",\r\n        component: Login,\r\n      },\r\n      {\r\n        path: \"/register\",\r\n        component: Register,\r\n      },\r\n      {\r\n        path: \"/profile\",\r\n        name: \"profile\",\r\n        component: Profile,\r\n      },\r\n      {\r\n        path: \"/admin\",\r\n        name: \"admin\",\r\n        component: BoardAdmin,\r\n      },\r\n      {\r\n        path: \"/mod\",\r\n        name: \"moderator\",\r\n        component: BoardModerator,\r\n      },\r\n      {\r\n        path: \"/user\",\r\n        name: \"user\",\r\n        component: BoardUser,\r\n      }\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const publicPages = ['/login', '/register', '/home'];\r\n  const authRequired = !publicPages.includes(to.path);\r\n  const loggedIn = localStorage.getItem('user');\r\n\r\n  if (authRequired && !loggedIn) {\r\n    next('/login');\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;"],"mappings":"AAAA,OAAOA,IAAI,MAAM,wBAAwB;AACzC,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,MAAMC,OAAO,GAAGA,CAAA,KAAM,MAAM,CAAC,2BAA2B,CAAC;AACzD,MAAMC,UAAU,GAAGA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;AAC/D,MAAMC,cAAc,GAAGA,CAAA,KAAM,MAAM,CAAC,kCAAkC,CAAC;AACvE,MAAMC,SAAS,GAAGA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;AAE7D,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEb;AACf,CAAC,EACD;EACIW,IAAI,EAAE,OAAO;EACbE,SAAS,EAAEb;AACf,CAAC,EACD;EACIW,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEV;AACf,CAAC,EACD;EACIQ,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEZ;AACb,CAAC,EACD;EACEU,IAAI,EAAE,WAAW;EACjBE,SAAS,EAAEX;AACb,CAAC,EACD;EACES,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEL;AACb,CAAC,EACD;EACEG,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEJ;AACb,CAAC,CACN;AAED,MAAMK,MAAM,GAAGV,YAAY,CAAC;EACxBW,OAAO,EAAEV,gBAAgB,CAAC,CAAC;EAC3BK;AACJ,CAAC,CAAC;AAEFI,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,WAAW,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC;EACpD,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACN,IAAI,CAAC;EACnD,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAE7C,IAAIJ,YAAY,IAAI,CAACE,QAAQ,EAAE;IAC7BJ,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}